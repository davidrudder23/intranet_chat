<html ng-app="chatApp">

<head>
<title>Intranet Chat</title>
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular.min.js"></script>

<style type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"></style>

<link href="/css/bootstrap.css" rel="stylesheet" />

<!-- Custom scripts and styles -->
<script src="js/chat.js"></script>

</head>

<body ng-controller="ChatController">

	<div class="col-md-8">
		<div class="panel panel-info">
			<div class="panel-heading">RECENT CHAT HISTORY
			<span style="float: right">
			<select ng-model="room">
				<option ng-repeat="option in rooms" value="{{option.id}}">{{option.name}}</option>
			</select>
			</span></div>
			
			<div class="panel-body">
				<ul class="media-list">
					<li class="media" ng-repeat="message in messages">

						<div class="media-body">

							<div class="media">
								<div class="media-body">
									{{ message.message }} <br /> <small
										class="text-muted">{{ message.account.username }} | {{ message.date }} </small>
									<hr />
								</div>
							</div>

						</div>
					</li>

				</ul>
			</div>
			<div class="panel-footer">
				<div class="input-group">
					<input type="text" class="form-control" ng-model="message" placeholder="Enter Message" />
					<span class="input-group-btn">
						<button class="btn btn-info" type="button" ng-click="submitMessage()">SEND</button>
					</span>
				</div>
			</div>
		</div>
	</div>
	<div class="col-md-4">
		<div class="panel panel-primary">
			<div class="panel-heading">ONLINE USERS</div>
			<div class="panel-body">
				<ul class="media-list">

					<li class="media" ng-repeat="latestAccountMessage in latestAccountMessages">

						<div class="media-body">

							<div class="media">
								<div class="media-body">
									<h5>{{ latestAccountMessage.account.username}} | User</h5>
									<small>{{ latestAccountMessage.message }}</small>
									<small class="text-muted">Sent {{ latestAccountMessage.date }} </small>
								</div>
							</div>

						</div>
					</li>

				</ul>
			</div>
		</div>

	</div>
</body>
</html>